#ifndef __DRV_MIPICSI_H__
#define __DRV_MIPICSI_H__



/*----------------------------------------------------------------------------*
 *					INCLUDE DECLARATIONS
 *---------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------*
 *					MACRO DECLARATIONS
 *---------------------------------------------------------------------------*/

#define mEXTENDED_ALIGNED(w,n) (w%n)?((w/n)*n+n):(w)

/*----------------------------------------------------------------------------*
 *					ENUM DECLARATIONS
 *---------------------------------------------------------------------------*/

typedef enum
{
	R648x488_RAW10_90fps_MIPI_2lane,
	R1280x800_RAW8_60fps_MIPI_2lane,
	R1280x800_RAW10_60fps_MIPI_2lane,
	
} DRV_CAMERA_Mode;



typedef enum
{
	CAM_RAM8_GRAY,
	CAM_RAM10_GRAY,	
	CAM_RAM8_RGB,	
	CAM_RAM10_RGB,
	
} DRV_CAMERA_OutputFormat;

typedef enum
{
	CAM_Capture_NONE = 0,
	CAM_Capture_BEGIN = 1,
	CAM_Capture_DONE = 2,	
} DRV_CAMERA_Capture_Staute;


/*----------------------------------------------------------------------------*
 *					DATA TYPES
 *---------------------------------------------------------------------------*/

struct ov9281_reg {
	u16	reg;
	u8	val;
};

struct CAM_PIC_info {
	u32 output_format;
	u32 buffer_anchor;
	u32 width;
	u32 height;
	u32 line_pitch;
	u32 capture_status;
};


#if 0

// R648x488_RAW10_90fps_MIPI_2lane

static const struct ov9281_reg ov9281_regs_default[] = 
{
	{0x0103, 0x01}, {0x0302, 0x32}, {0x030d, 0x50}, {0x030e, 0x02},
	{0x3001, 0x00}, {0x3004, 0x00}, {0x3005, 0x00}, {0x3006, 0x04},
	{0x3011, 0x0a}, {0x3013, 0x18}, {0x301c, 0xf0}, {0x3022, 0x01},
	{0x3030, 0x10}, {0x3039, 0x32}, {0x303a, 0x00}, {0x3500, 0x00},
	{0x3501, 0x2a}, {0x3502, 0x90}, {0x3503, 0x08}, {0x3505, 0x8c},
	{0x3507, 0x03}, {0x3508, 0x00}, {0x3509, 0x10}, {0x3610, 0x80},
	{0x3611, 0xa0}, {0x3620, 0x6e}, {0x3632, 0x56}, {0x3633, 0x78},
	{0x3662, 0x05}, {0x3666, 0x00}, {0x366f, 0x5a}, {0x3680, 0x84},
	{0x3712, 0x80}, {0x372d, 0x22}, {0x3731, 0x80}, {0x3732, 0x30},
	{0x3778, 0x00}, {0x377d, 0x22}, {0x3788, 0x02}, {0x3789, 0xa4},
	{0x378a, 0x00}, {0x378b, 0x4a}, {0x3799, 0x20}, {0x3800, 0x01},
	{0x3801, 0x3c}, {0x3802, 0x00}, {0x3803, 0x9c}, {0x3804, 0x05}, ///// 3 90fps 5 120fps
	{0x3805, 0xd3}, {0x3806, 0x02}, {0x3807, 0x93}, {0x3808, 0x02},
	{0x3809, 0x88}, {0x380a, 0x01}, {0x380b, 0xe8}, {0x380c, 0x02},
	{0x380d, 0xd8}, {0x380e, 0x04}, {0x380f, 0xc0}, {0x3810, 0x00},
	{0x3811, 0x08}, {0x3812, 0x00}, {0x3813, 0x08}, {0x3814, 0x11},
	{0x3815, 0x11}, {0x3820, 0x40}, {0x3821, 0x00}, {0x382c, 0x05},
	{0x382d, 0xb0}, {0x389d, 0x00}, {0x3881, 0x42}, {0x3882, 0x01},
	{0x3883, 0x00}, {0x3885, 0x02}, {0x38a8, 0x02}, {0x38a9, 0x80},
	{0x38b1, 0x00}, {0x38b3, 0x02}, {0x38c4, 0x00}, {0x38c5, 0xc0},
	{0x38c6, 0x04}, {0x38c7, 0x80}, {0x3920, 0xff}, {0x4003, 0x40},
	{0x4008, 0x04}, {0x4009, 0x0b}, {0x400c, 0x00}, {0x400d, 0x07},
	{0x4010, 0x40}, {0x4043, 0x40}, {0x4307, 0x30}, {0x4317, 0x00},
	{0x4501, 0x00}, {0x4507, 0x00}, {0x4509, 0x00}, {0x450a, 0x08},
	{0x4601, 0x04}, {0x470f, 0x00}, {0x4f07, 0x00}, {0x4800, 0x00},
	{0x5000, 0x9f}, {0x5001, 0x00}, {0x5e00, 0x00}, {0x5d00, 0x07},
	{0x5d01, 0x00}, {0x4f00, 0x04}, {0x4f10, 0x00}, {0x4f11, 0x98},
	{0x4f12, 0x0f}, {0x4f13, 0xc4}, {0x0100, 0x01}, 
};

#elif 0

// R1280x800 RAW8 60fps MIPI_2lane  


static const struct ov9281_reg ov9281_regs_default[] = 
{
	{0x0103, 0x01}, {0x0302, 0x32}, {0x030d, 0x50}, {0x030e, 0x02},
	{0x3001, 0x00}, {0x3004, 0x00}, {0x3005, 0x00}, {0x3006, 0x04},
	{0x3011, 0x0a}, {0x3013, 0x18}, {0x301c, 0xf0}, {0x3022, 0x01},
	{0x3030, 0x10}, {0x3039, 0x32}, {0x303a, 0x00}, {0x3500, 0x00},
	{0x3501, 0x2a}, {0x3502, 0x90}, {0x3503, 0x08}, {0x3505, 0x8c},
	{0x3507, 0x03}, {0x3508, 0x00}, {0x3509, 0x10}, {0x3610, 0x80},
	{0x3611, 0xa0}, {0x3620, 0x6e}, {0x3632, 0x56}, {0x3633, 0x78},
	{0x3662, 0x05}, {0x3666, 0x00}, {0x366f, 0x5a}, {0x3680, 0x84},
	{0x3712, 0x80}, {0x372d, 0x22}, {0x3731, 0x80}, {0x3732, 0x30},
	{0x3778, 0x00}, {0x377d, 0x22}, {0x3788, 0x02}, {0x3789, 0xa4},
	{0x378a, 0x00}, {0x378b, 0x4a}, {0x3799, 0x20}, {0x3800, 0x00},
	{0x3801, 0x00}, {0x3802, 0x00}, {0x3803, 0x00}, {0x3804, 0x05}, ///// 3 90fps 5 120fps
	{0x3805, 0x0f}, {0x3806, 0x03}, {0x3807, 0x2f}, {0x3808, 0x05},
	{0x3809, 0x00}, {0x380a, 0x03}, {0x380b, 0x20}, {0x380c, 0x02},
	{0x380d, 0xd8}, {0x380e, 0x07}, {0x380f, 0x1c}, {0x3810, 0x00},
	{0x3811, 0x08}, {0x3812, 0x00}, {0x3813, 0x08}, {0x3814, 0x11},
	{0x3815, 0x11}, {0x3820, 0x40}, {0x3821, 0x00}, {0x382c, 0x05},
	{0x382d, 0xb0}, {0x389d, 0x00}, {0x3881, 0x42}, {0x3882, 0x01},
	{0x3883, 0x00}, {0x3885, 0x02}, {0x38a8, 0x02}, {0x38a9, 0x80},
	{0x38b1, 0x00}, {0x38b3, 0x02}, {0x38c4, 0x00}, {0x38c5, 0xc0},
	{0x38c6, 0x04}, {0x38c7, 0x80}, {0x3920, 0xff}, {0x4003, 0x40},
	{0x4008, 0x04}, {0x4009, 0x0b}, {0x400c, 0x00}, {0x400d, 0x07},
	{0x4010, 0x40}, {0x4043, 0x40}, {0x4307, 0x30}, {0x4317, 0x00},
	{0x4501, 0x00}, {0x4507, 0x00}, {0x4509, 0x00}, {0x450a, 0x08},
	{0x4601, 0x04}, {0x470f, 0x00}, {0x4f07, 0x00}, {0x4800, 0x00},
	{0x5000, 0x9f}, {0x5001, 0x00}, {0x5e00, 0x00}, {0x5d00, 0x07},
	{0x5d01, 0x00}, {0x4f00, 0x04}, {0x4f10, 0x00}, {0x4f11, 0x98},
	{0x4f12, 0x0f}, {0x4f13, 0xc4}, {0x0100, 0x01}, 


    // bist
	{0x5e00, 0x80},


	
	{0x0100, 0x00},
	{0x3662, 0x07},
	{0x4837, 0x14},
	{0x4601, 0x4f},
	{0x0100, 0x01},
	
};



#elif 1



// R1280x800 RAW10 60fps MIPI_2lane  


static const struct ov9281_reg ov9281_regs_default[] = 
{
	{0x0103, 0x01}, {0x0302, 0x32}, {0x030d, 0x50}, {0x030e, 0x02},
	{0x3001, 0x00}, {0x3004, 0x00}, {0x3005, 0x00}, {0x3006, 0x04},
	{0x3011, 0x0a}, {0x3013, 0x18}, {0x301c, 0xf0}, {0x3022, 0x01},
	{0x3030, 0x10}, {0x3039, 0x32}, {0x303a, 0x00}, {0x3500, 0x00},
	{0x3501, 0x2a}, {0x3502, 0x90}, {0x3503, 0x08}, {0x3505, 0x8c},
	{0x3507, 0x03}, {0x3508, 0x00}, {0x3509, 0x10}, {0x3610, 0x80},
	{0x3611, 0xa0}, {0x3620, 0x6e}, {0x3632, 0x56}, {0x3633, 0x78},
	{0x3662, 0x05}, {0x3666, 0x00}, {0x366f, 0x5a}, {0x3680, 0x84},
	{0x3712, 0x80}, {0x372d, 0x22}, {0x3731, 0x80}, {0x3732, 0x30},
	{0x3778, 0x00}, {0x377d, 0x22}, {0x3788, 0x02}, {0x3789, 0xa4},
	{0x378a, 0x00}, {0x378b, 0x4a}, {0x3799, 0x20}, {0x3800, 0x00},
	{0x3801, 0x00}, {0x3802, 0x00}, {0x3803, 0x00}, {0x3804, 0x05}, ///// 3 90fps 5 120fps
	{0x3805, 0x0f}, {0x3806, 0x03}, {0x3807, 0x2f}, {0x3808, 0x05},
	{0x3809, 0x00}, {0x380a, 0x03}, {0x380b, 0x20}, {0x380c, 0x02},
	{0x380d, 0xd8}, {0x380e, 0x07}, {0x380f, 0x1c}, {0x3810, 0x00},
	{0x3811, 0x08}, {0x3812, 0x00}, {0x3813, 0x08}, {0x3814, 0x11},
	{0x3815, 0x11}, {0x3820, 0x40}, {0x3821, 0x00}, {0x382c, 0x05},
	{0x382d, 0xb0}, {0x389d, 0x00}, {0x3881, 0x42}, {0x3882, 0x01},
	{0x3883, 0x00}, {0x3885, 0x02}, {0x38a8, 0x02}, {0x38a9, 0x80},
	{0x38b1, 0x00}, {0x38b3, 0x02}, {0x38c4, 0x00}, {0x38c5, 0xc0},
	{0x38c6, 0x04}, {0x38c7, 0x80}, {0x3920, 0xff}, {0x4003, 0x40},
	{0x4008, 0x04}, {0x4009, 0x0b}, {0x400c, 0x00}, {0x400d, 0x07},
	{0x4010, 0x40}, {0x4043, 0x40}, {0x4307, 0x30}, {0x4317, 0x00},
	{0x4501, 0x00}, {0x4507, 0x00}, {0x4509, 0x00}, {0x450a, 0x08},
	{0x4601, 0x04}, {0x470f, 0x00}, {0x4f07, 0x00}, {0x4800, 0x00},
	{0x5000, 0x9f}, {0x5001, 0x00}, {0x5e00, 0x00}, {0x5d00, 0x07},
	{0x5d01, 0x00}, {0x4f00, 0x04}, {0x4f10, 0x00}, {0x4f11, 0x98},
	{0x4f12, 0x0f}, {0x4f13, 0xc4}, {0x0100, 0x01}, 


    // bist
	//{0x5e00, 0x80},
	{0x3501, 0x38},
	{0x3502, 0x20},
	{0x5000, 0x87},
};

#else


// R1280x800 RAW8 60fps MIPI_2lane  

static const struct ov9281_reg ov9281_regs_default[] = 
{
	{0x0103, 0x01}, {0x0302, 0x32}, {0x030d, 0x50}, {0x030e, 0x02},
	{0x3001, 0x00}, {0x3004, 0x00}, {0x3005, 0x00}, {0x3006, 0x04},
	{0x3011, 0x0a}, {0x3013, 0x18}, {0x301c, 0xf0}, {0x3022, 0x01},
	{0x3030, 0x10}, {0x3039, 0x32}, {0x303a, 0x00}, {0x3500, 0x00},
	{0x3501, 0x2a}, {0x3502, 0x90}, {0x3503, 0x08}, {0x3505, 0x8c},
	{0x3507, 0x03}, {0x3508, 0x00}, {0x3509, 0x10}, {0x3610, 0x80},
	{0x3611, 0xa0}, {0x3620, 0x6e}, {0x3632, 0x56}, {0x3633, 0x78},
	{0x3662, 0x05}, {0x3666, 0x00}, {0x366f, 0x5a}, {0x3680, 0x84},
	{0x3712, 0x80}, {0x372d, 0x22}, {0x3731, 0x80}, {0x3732, 0x30},
	{0x3778, 0x00}, {0x377d, 0x22}, {0x3788, 0x02}, {0x3789, 0xa4},
	{0x378a, 0x00}, {0x378b, 0x4a}, {0x3799, 0x20}, {0x3800, 0x00},
	{0x3801, 0x00}, {0x3802, 0x00}, {0x3803, 0x00}, {0x3804, 0x05}, ///// 3 90fps 5 120fps
	{0x3805, 0x0f}, {0x3806, 0x03}, {0x3807, 0x2f}, {0x3808, 0x05},
	{0x3809, 0x00}, {0x380a, 0x03}, {0x380b, 0x20}, {0x380c, 0x02},
	// 380e 03 380f 8e
	{0x380d, 0xd8}, {0x380e, 0x03}, {0x380f, 0x8e}, {0x3810, 0x00},
	{0x3811, 0x08}, {0x3812, 0x00}, {0x3813, 0x08}, {0x3814, 0x11},
	{0x3815, 0x11}, {0x3820, 0x40}, {0x3821, 0x00}, {0x382c, 0x05},
	{0x382d, 0xb0}, {0x389d, 0x00}, {0x3881, 0x42}, {0x3882, 0x01},
	{0x3883, 0x00}, {0x3885, 0x02}, {0x38a8, 0x02}, {0x38a9, 0x80},
	{0x38b1, 0x00}, {0x38b3, 0x02}, {0x38c4, 0x00}, {0x38c5, 0xc0},
	{0x38c6, 0x04}, {0x38c7, 0x80}, {0x3920, 0xff}, {0x4003, 0x40},
	{0x4008, 0x04}, {0x4009, 0x0b}, {0x400c, 0x00}, {0x400d, 0x07},
	{0x4010, 0x40}, {0x4043, 0x40}, {0x4307, 0x30}, {0x4317, 0x00},
	{0x4501, 0x00}, {0x4507, 0x00}, {0x4509, 0x00}, {0x450a, 0x08},
	{0x4601, 0x04}, {0x470f, 0x00}, {0x4f07, 0x00}, {0x4800, 0x00},
	{0x5000, 0x9f}, {0x5001, 0x00}, {0x5e00, 0x00}, {0x5d00, 0x07},
	{0x5d01, 0x00}, {0x4f00, 0x04}, {0x4f10, 0x00}, {0x4f11, 0x98},
	{0x4f12, 0x0f}, {0x4f13, 0xc4}, {0x0100, 0x01}, 


    // bist
	//{0x5e00, 0x80},
	{0x3501, 0x38},
	{0x3502, 0x20},
	{0x5000, 0x87},

	//raw 8 
	{0x0100, 0x00},
	{0x3662, 0x07},
	{0x4837, 0x14},
	{0x4601, 0x4f},
	{0x0100, 0x01},
	
 	//60fps 
	{0x380e, 0x07},
	{0x380f, 0x1c},

	{0x3501, 0x68},
	
};


#endif

/*----------------------------------------------------------------------------*
 *					EXTERNAL DECLARATIONS
 *---------------------------------------------------------------------------*/


/*----------------------------------------------------------------------------*
 *					FUNCTION DECLARATIONS
 *---------------------------------------------------------------------------*/



#endif // __DRV_MIPICSI_H__
